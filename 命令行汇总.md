# <center><font face="仿宋" size=10 font color=orange>colmap+mvs</font></center>
## colmap

- 1. 创建workspace目录，并创建images文件夹，将图片挪到这个文件夹下并cd ~/workspace
  
- 2. 使用 PINHOLE 相机模型重新提取特征
colmap feature_extractor \
    --database_path database.db \
    --image_path images \
    --ImageReader.camera_model PINHOLE \
    --ImageReader.single_camera 1

- 3. 特征匹配
colmap exhaustive_matcher --database_path database.db

- 4. 稀疏重建
colmap mapper \
    --database_path database.db \
    --image_path images \
    --output_path sparse

- 5. 转换为 MVS 格式
~/MVS/openMVS_build/bin/InterfaceCOLMAP -i . -o scene.mvs

## OPENMVS
- 1. 将images和scene.mvs打包到一个文件夹，放入~/MVS/openMVS_build/data，并进入openMVS_build
- 2. 稠密重建
  ./bin/DensifyPointCloud -w /root/MVS/openMVS_build/data -i scene.mvs -o test_dense.mvs
- 3. 曲面重建
  ./bin/ReconstructMesh -w /root/MVS/openMVS_build/data -i test_dense.mvs -o test_mesh.mvs
- 4. 网格优化
  ./bin/RefineMesh -w /root/MVS/openMVS_build/data -i test_mesh.mvs -o test_refinemesh.mvs
- 5. 纹理贴图
  ./bin/TextureMesh -w /root/MVS/openMVS_build/data -i test_refinemesh.mvs -o test_texture.mvs
- 6. 在data目录下生成test_texture.ply以及test_texture.png文件